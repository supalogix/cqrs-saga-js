{"version":3,"sources":["../src/aggregate-root.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;IAEqB,a;AACpB,wBAAY,OAAZ,EAAqB;AAAA;;AACpB,OAAK,KAAL,GAAa,wBAAY,OAAZ,CAAb;AACA,OAAK,MAAL,GAAc,EAAd;AACA;;;;8BAMW,K,EAAO;AAClB,QAAK,KAAL,CAAW,QAAX,CAAoB,KAApB;AACA,QAAK,MAAL,CAAY,IAAZ,CAAiB,KAAjB;AACA;;;0CAEuB;AACvB,UAAO,KAAK,MAAZ;AACA;;;2CAEwB;AACxB,QAAK,MAAL,GAAc,EAAd;AACA;;;sBAfW;AACX,UAAO,KAAK,KAAL,CAAW,QAAX,EAAP;AACA;;;;;;kBARmB,a","file":"aggregate-root.js","sourcesContent":["import { createStore } from \"redux\";\n\nexport default class AggregateRoot {\n\tconstructor(reducer) {\n\t\tthis.store = createStore(reducer);\n\t\tthis.events = [];\n\t}\n\t\n\tget state() {\n\t\treturn this.store.getState();\n\t}\n\n\tapplyChange(event) {\n\t\tthis.store.dispatch(event);\n\t\tthis.events.push(event);\n\t}\n\n\tgetUncommittedChanges() {\n\t\treturn this.events;\n\t}\n\n\tmarkChangesAsCommitted() {\n\t\tthis.events = [];\n\t}\n}"]}